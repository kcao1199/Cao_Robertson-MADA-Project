<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kelly Cao and Rachel Robertson">
<meta name="dcterms.date" content="2023-01-03">

<title>Data Processing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Processing-Quarto-Output_files/libs/clipboard/clipboard.min.js"></script>
<script src="Processing-Quarto-Output_files/libs/quarto-html/quarto.js"></script>
<script src="Processing-Quarto-Output_files/libs/quarto-html/popper.min.js"></script>
<script src="Processing-Quarto-Output_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Processing-Quarto-Output_files/libs/quarto-html/anchor.min.js"></script>
<link href="Processing-Quarto-Output_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Processing-Quarto-Output_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Processing-Quarto-Output_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Processing-Quarto-Output_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Processing-Quarto-Output_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Processing</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kelly Cao and Rachel Robertson </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 3, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="setup" class="level1">
<h1>Setup</h1>
<p>I first load the needed packages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr) <span class="co">#Loading the package to read the fwf</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here) <span class="co">#Loading the package to produce relative pathway</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) <span class="co">#Loading in the package for dynamic report generation</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-loading" class="level1">
<h1>Data loading</h1>
<p>I load the raw .DAT file into the environment and using the <code>readr</code> package, I declare the column position and labels of the desired columns of interest. I then apply the declared object with <code>read_fwf</code> function to the raw data (.DAT) file into a data frame named <code>data_frame</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>column_position<span class="ot">&lt;-</span> <span class="fu">fwf_positions</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">start =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">89</span>, <span class="dv">287</span>, <span class="dv">295</span>, <span class="dv">314</span>, <span class="dv">330</span>, <span class="dv">331</span>, <span class="dv">334</span>, <span class="dv">336</span>, <span class="dv">343</span>, <span class="dv">344</span>, <span class="dv">345</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>            <span class="dv">347</span>, <span class="dv">353</span>, <span class="dv">359</span>, <span class="dv">362</span>, <span class="dv">472</span>, <span class="dv">473</span>, <span class="dv">495</span>, <span class="dv">496</span>, <span class="dv">497</span>, <span class="dv">502</span>, <span class="dv">504</span>, <span class="dv">1296</span>, <span class="dv">1297</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">end =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">92</span>, <span class="dv">288</span>, <span class="dv">295</span>, <span class="dv">329</span>, <span class="dv">330</span>, <span class="dv">332</span>, <span class="dv">334</span>, <span class="dv">336</span>, <span class="dv">343</span>, <span class="dv">344</span>, <span class="dv">346</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>          <span class="dv">347</span>, <span class="dv">354</span>, <span class="dv">359</span>, <span class="dv">362</span>, <span class="dv">472</span>, <span class="dv">473</span>, <span class="dv">495</span>, <span class="dv">496</span>, <span class="dv">497</span>, <span class="dv">502</span>, <span class="dv">504</span>, <span class="dv">1296</span>, <span class="dv">1297</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">"SEQNUMT"</span>, <span class="st">"YEAR"</span>, <span class="st">"AGE"</span>, <span class="st">"EDUC1"</span>, <span class="st">"INCPORAR_I"</span>, </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                <span class="st">"INCPOV1"</span>, <span class="st">"INCQ298A"</span>, <span class="st">"LANGUAGE"</span>, <span class="st">"MOBIL_1"</span>, <span class="st">"RACEETHK"</span>, </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>                <span class="st">"RACE_K"</span>, <span class="st">"RENT_OWN"</span>, <span class="st">"SEX"</span>, <span class="st">"STATE"</span>, <span class="st">"FACILITY"</span>, <span class="st">"WELLCHILD"</span>, </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                <span class="st">"P_U13HPV"</span>, <span class="st">"P_U13HPV3"</span>, <span class="st">"P_UTDHPV"</span>, <span class="st">"P_UTDHPV_15"</span>, </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>                <span class="st">"P_UTDHPV_15INT"</span>, <span class="st">"P_UTDHPV2"</span>, <span class="st">"P_UTDHPV3"</span>, <span class="st">"INS_STAT2_I"</span>, </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>                <span class="st">"INS_BREAK_I"</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>file_path <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"raw-data"</span>, <span class="st">"NISTEENPUF22.DAT"</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>data_frame <span class="ot">&lt;-</span> <span class="fu">read_fwf</span>(file_path, </span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>                       <span class="at">col_positions =</span> column_position,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>                       <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">.default =</span> <span class="st">"c"</span>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>                       )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="specifying-factor-variables" class="level1">
<h1>Specifying Factor Variables</h1>
<p>With the data_frame in the environment, I nthen apply the labels for each factor levels using the provided codebook (this codebook can be found in ./data/raw_data/NIS-Teen_Puff22-CODEBOOK.pdf). This will make further downstream analysis much easier to work with.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>EDUC1levels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>EDUC1labels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"LESS THAN 12 YEARS"</span>, <span class="st">"12 YEARS"</span>, <span class="st">"MORE THAN 12 YEARS, NON-COLLEGE GRAD"</span>, <span class="st">"COLLEGE GRADUATE"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>INCPOVlevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>INCPOVlabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"ABOVE POVERTY &gt; $75K"</span>, <span class="st">"ABOVE POVERTY &lt;= $75K"</span>, <span class="st">"BELOW POVERTY"</span>, <span class="st">"UNKNOWN"</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>INCQ298Alevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>,<span class="dv">14</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">77</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">99</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>INCQ298Alabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"$35001 - $40000"</span>, <span class="st">"$40001 - $50000"</span>, <span class="st">"$50001 - $60000"</span>, <span class="st">"$60001 - $75000"</span>, <span class="st">"$75001+"</span>, <span class="st">"$0 - $7500"</span>, <span class="st">"$7501 - $10000"</span>, <span class="st">"$10001 - $17500"</span>, <span class="st">"$17501 - $20000"</span>, <span class="st">"$20001 - $25000"</span>, <span class="st">"DON'T KNOW"</span>, <span class="st">"$25001 - $30000"</span>, <span class="st">"$30001 - $35000"</span>, <span class="st">"REFUSED"</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>LANGUAGElevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>LANGUAGElabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"ENGLISH"</span>, <span class="st">"SPANISH"</span>, <span class="st">"OTHER"</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>MOBILlevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">77</span>,<span class="dv">98</span>,<span class="dv">99</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>MOBILlabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"MOVED FROM DIFFERENT STATE"</span>, <span class="st">"DID NOT MOVE FROM DIFFERENT STATE"</span>, <span class="st">"DON'T KNOW"</span>, <span class="st">"MISSING IN ERROR"</span>, <span class="st">"REFUSED"</span>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>RACEETHKlevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>RACEETHKlabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"HISPANIC"</span>, <span class="st">"NON-HISPANIC WHITE ONLY"</span>, <span class="st">"NON-HISPANIC BLACK ONLY"</span>, <span class="st">"NON-HISPANIC OTHER + MULTIPLE RACE"</span>)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>RACE_Klevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>RACE_Klabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"WHITE ONLY"</span>, <span class="st">"BLACK ONLY"</span>, <span class="st">"OTHER + MULTIPLE RACE"</span>)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>RENTOWNlevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">77</span>,<span class="dv">99</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>RENTOWNlabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"OWNED OR BEING BOUGHT"</span>, <span class="st">"RENTED"</span>, <span class="st">"OTHER ARRANGMENT"</span>, <span class="st">"DON'T KNOW"</span>, <span class="st">"REFUSED"</span>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>SEXlevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">77</span>,<span class="dv">98</span>,<span class="dv">99</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>SEXlabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"MALE"</span>, <span class="st">"FEMALE"</span>, <span class="st">"DON'T KNOW"</span>, <span class="st">"MISSING IN ERROR"</span>, <span class="st">"REFUSED"</span>)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>STATElevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>,<span class="dv">15</span>,<span class="dv">16</span>,<span class="dv">17</span>,<span class="dv">18</span>,<span class="dv">19</span>,<span class="dv">2</span>,<span class="dv">20</span>,<span class="dv">21</span>,<span class="dv">22</span>,<span class="dv">23</span>,<span class="dv">24</span>,<span class="dv">25</span>,<span class="dv">26</span>,<span class="dv">27</span>,<span class="dv">28</span>,<span class="dv">29</span>,<span class="dv">30</span>,<span class="dv">31</span>,<span class="dv">32</span>,<span class="dv">33</span>,<span class="dv">34</span>,<span class="dv">35</span>,<span class="dv">36</span>,<span class="dv">37</span>,<span class="dv">38</span>,<span class="dv">39</span>,<span class="dv">4</span>,<span class="dv">40</span>,<span class="dv">41</span>,<span class="dv">42</span>,<span class="dv">44</span>,<span class="dv">45</span>,<span class="dv">46</span>,<span class="dv">47</span>,<span class="dv">48</span>,<span class="dv">49</span>,<span class="dv">5</span>,<span class="dv">50</span>,<span class="dv">51</span>,<span class="dv">53</span>,<span class="dv">54</span>,<span class="dv">55</span>,<span class="dv">56</span>,<span class="dv">6</span>,<span class="dv">66</span>,<span class="dv">72</span>,<span class="dv">78</span>,<span class="dv">8</span>,<span class="dv">9</span>)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>STATElabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"ALABAMA"</span>, <span class="st">"DELAWARE"</span>, <span class="st">"DISTRICT OF COLUMBIA"</span>, <span class="st">"FLORIDA"</span>, <span class="st">"GEORGIA"</span>, <span class="st">"HAWAII"</span>, <span class="st">"IDAHO"</span>, <span class="st">"ILLINOIS"</span>, <span class="st">"INDIANA"</span>, <span class="st">"IOWA"</span>, <span class="st">"ALASKA"</span>, <span class="st">"KANSAS"</span>, <span class="st">"KENTUCKY"</span>, <span class="st">"LOUISIANA"</span>, <span class="st">"MAINE"</span>, <span class="st">"MARYLAND"</span>, <span class="st">"MASSACHUSETTS"</span>, <span class="st">"MICHIGAN"</span>, <span class="st">"MINNESOTA"</span>, <span class="st">"MISSISSIPPI"</span>, <span class="st">"MISSOURI"</span>, <span class="st">"MONTANA"</span>, <span class="st">"NEBRASKA"</span>, <span class="st">"NEVADA"</span>,</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>              <span class="st">"NEW HAMPSHIRE"</span>, <span class="st">"NEW JERSEY"</span>, <span class="st">"NEW MEXICO"</span>, <span class="st">"NEW YORK"</span>, <span class="st">"NORTH CAROLINA"</span>, <span class="st">"NORTH DAKOTA"</span>, <span class="st">"OHIO"</span>, <span class="st">"ARIZONA"</span>, <span class="st">"OKLAHOMA"</span>, <span class="st">"OREGON"</span>, <span class="st">"PENNSYLVANIA"</span>, <span class="st">"RHODE ISLAND"</span>, <span class="st">"SOUTH CAROLINA"</span>, <span class="st">"SOUTH DAKOTA"</span>, <span class="st">"TENNESSEE"</span>, <span class="st">"TEXAS"</span>, <span class="st">"UTAH"</span>, <span class="st">"ARKANSAS"</span>, <span class="st">"VERMONT"</span>, <span class="st">"VIRGINIA"</span>, <span class="st">"WASHINGTON"</span>, <span class="st">"WEST VIRGINIA"</span>,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>              <span class="st">"WISCONSIN"</span>, <span class="st">"WYOMING"</span>, <span class="st">"CALIFORNIA"</span>, <span class="st">"GUAM"</span>, <span class="st">"PUERTO RICO"</span>, <span class="st">"U.S. VIRGIN ISLANDS"</span>, <span class="st">"COLORADO"</span>, <span class="st">"CONNECTICUT"</span>)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>FACILITYlevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>, <span class="st">"."</span>)</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>FACILITYlabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"ALL PUBLIC FACILITIES"</span>, <span class="st">"ALL HOSPITAL FACILITIES"</span>, <span class="st">"ALL PRIVATE FACILITIES"</span>, <span class="st">"ALL STD/SCHOOL/TEEN CLINICS OR OTHER FACILITIES"</span>, <span class="st">"MIXED"</span>, <span class="st">"UNKNOWN"</span>, <span class="st">"Missing Data"</span>)</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>WELLCHILDlevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>WELLCHILDlabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"YES"</span>, <span class="st">"NO"</span>, <span class="st">"DON'T KNOW"</span>)</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>UTDlevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>, <span class="st">"."</span>)</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>UTDlabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"NOT UTD"</span>, <span class="st">"UTD"</span>, <span class="st">"Missing Data"</span>)</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>INS_STAT2_Ilevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>, <span class="st">"."</span>)</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>INS_STAT2_Ilabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"PRIVATE INSURANCE ONLY"</span>, <span class="st">"ANY MEDICAID"</span>, <span class="st">"OTHER INSURANCE (CHIP, IHS, MILITARY, OR OTHER, ALONE OR IN COMB. WITH PRIVATE INSURANCE)"</span>, <span class="st">"UNINSURED"</span>, <span class="st">"MISSING Data"</span>)</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>INS_BREAK_Ilevels<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="st">"."</span>)</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>INS_BREAK_Ilabels<span class="ot">=</span><span class="fu">c</span>(<span class="st">"CURRENTLY INSURED BUT UNINSURED AT SOME POINT SINCE AGE 11"</span>, <span class="st">"CURRENTLY INSURED AND NEVER UNINSURED SINCE AGE 11"</span>, <span class="st">"CURRENTLY UNINSURED BUT INSURED AT SOME POINT SINCE AGE 11"</span>, <span class="st">"CURRENTLY UNINSURED AND NEVER INSURED SINCE AGE 11"</span>, <span class="st">"Data Missing"</span>)</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>data<span class="ot">&lt;-</span><span class="fu">mutate</span>(data_frame,</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>             <span class="at">SEQNUMT =</span> <span class="fu">as.numeric</span>(SEQNUMT), </span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>             <span class="at">YEAR =</span> <span class="fu">as.numeric</span>(YEAR),</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>             <span class="at">AGE =</span> <span class="fu">as.numeric</span>(AGE),</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>             <span class="at">EDUC1 =</span> <span class="fu">factor</span>(EDUC1,<span class="at">levels =</span> EDUC1levels, <span class="at">labels =</span> EDUC1labels),</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>             <span class="at">INCPORAR_I =</span> <span class="fu">as.numeric</span>(INCPORAR_I), </span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>             <span class="at">INCPOV1 =</span> <span class="fu">factor</span>(INCPOV1, <span class="at">levels =</span> INCPOVlevels, <span class="at">labels =</span> INCPOVlabels),</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>             <span class="at">INCQ298A =</span> <span class="fu">factor</span>(INCQ298A, <span class="at">levels =</span> INCQ298Alevels, <span class="at">labels =</span> INCQ298Alabels),             </span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>             <span class="at">LANGUAGE =</span> <span class="fu">factor</span>(LANGUAGE, <span class="at">levels =</span> LANGUAGElevels, <span class="at">labels =</span> LANGUAGElabels),</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>             <span class="at">MOBIL_1 =</span> <span class="fu">factor</span>(MOBIL_1, <span class="at">levels =</span> MOBILlevels, <span class="at">labels =</span> MOBILlabels),</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>             <span class="at">RACEETHK =</span> <span class="fu">factor</span>(RACEETHK, <span class="at">levels =</span> RACEETHKlevels, <span class="at">labels =</span> RACEETHKlabels),</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>             <span class="at">RACE_K =</span> <span class="fu">factor</span>(RACE_K, <span class="at">levels =</span> RACE_Klevels, <span class="at">labels =</span> RACE_Klabels),</span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>             <span class="at">RENT_OWN =</span> <span class="fu">factor</span>(RENT_OWN, <span class="at">levels =</span> RENTOWNlevels, <span class="at">labels =</span> RENTOWNlabels), </span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>             <span class="at">SEX =</span> <span class="fu">factor</span>(SEX, <span class="at">levels =</span> SEXlevels, <span class="at">labels =</span> SEXlabels),</span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>             <span class="at">STATE =</span> <span class="fu">factor</span>(STATE, <span class="at">levels =</span> STATElevels, <span class="at">labels =</span> STATElabels), </span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>             <span class="at">FACILITY =</span> <span class="fu">factor</span>(FACILITY, <span class="at">levels =</span> FACILITYlevels, <span class="at">labels =</span> FACILITYlabels),</span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>             <span class="at">WELLCHILD =</span> <span class="fu">factor</span>(WELLCHILD, <span class="at">levels =</span> WELLCHILDlevels, <span class="at">labels =</span> WELLCHILDlabels),</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>             <span class="at">P_U13HPV =</span> <span class="fu">factor</span>(P_U13HPV, <span class="at">levels =</span> UTDlevels, <span class="at">labels =</span> UTDlabels),</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>             <span class="at">P_U13HPV3 =</span> <span class="fu">factor</span>(P_U13HPV3, <span class="at">levels =</span> UTDlevels, <span class="at">labels =</span> UTDlabels),</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>             <span class="at">P_UTDHPV =</span> <span class="fu">factor</span>(P_UTDHPV, <span class="at">levels =</span> UTDlevels, <span class="at">labels =</span> UTDlabels),</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>             <span class="at">P_UTDHPV_15 =</span> <span class="fu">factor</span>(P_UTDHPV_15, <span class="at">levels =</span> UTDlevels, <span class="at">labels =</span> UTDlabels),</span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>             <span class="at">P_UTDHPV_15INT =</span> <span class="fu">factor</span>(P_UTDHPV_15INT, <span class="at">levels =</span> UTDlevels, <span class="at">labels =</span> UTDlabels),</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>             <span class="at">P_UTDHPV2 =</span> <span class="fu">factor</span>(P_UTDHPV2, <span class="at">levels =</span> UTDlevels, <span class="at">labels =</span> UTDlabels),</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>             <span class="at">P_UTDHPV3 =</span> <span class="fu">factor</span>(P_UTDHPV3, <span class="at">levels =</span> UTDlevels, <span class="at">labels =</span> UTDlabels),</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>             <span class="at">INS_STAT2_I =</span> <span class="fu">factor</span>(INS_STAT2_I, <span class="at">levels =</span> INS_STAT2_Ilevels, <span class="at">labels =</span> INS_STAT2_Ilabels),</span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>             <span class="at">INS_BREAK_I =</span> <span class="fu">factor</span>(INS_BREAK_I, <span class="at">levels =</span> INS_BREAK_Ilevels, <span class="at">labels =</span> INS_BREAK_Ilabels)</span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    SEQNUMT           YEAR           AGE       
 Min.   :    1   Min.   :2022   Min.   :13.00  
 1st Qu.:10935   1st Qu.:2022   1st Qu.:14.00  
 Median :21870   Median :2022   Median :15.00  
 Mean   :21870   Mean   :2022   Mean   :15.03  
 3rd Qu.:32804   3rd Qu.:2022   3rd Qu.:16.00  
 Max.   :43738   Max.   :2022   Max.   :17.00  
                                               
                                  EDUC1         INCPORAR_I   
 LESS THAN 12 YEARS                  : 2616   Min.   :0.500  
 12 YEARS                            : 7123   1st Qu.:1.660  
 MORE THAN 12 YEARS, NON-COLLEGE GRAD:11041   Median :3.000  
 COLLEGE GRADUATE                    :22958   Mean   :2.356  
                                              3rd Qu.:3.000  
                                              Max.   :3.000  
                                                             
                  INCPOV1                 INCQ298A        LANGUAGE    
 ABOVE POVERTY &gt; $75K :23601   $75001+        :23601   ENGLISH:39720  
 ABOVE POVERTY &lt;= $75K:11870   $60001 - $75000: 3169   SPANISH: 3725  
 BELOW POVERTY        : 5506   REFUSED        : 2532   OTHER  :  293  
 UNKNOWN              : 2761   $40001 - $50000: 2370                  
                               $50001 - $60000: 2350                  
                               $35001 - $40000: 1428                  
                               (Other)        : 8288                  
                              MOBIL_1     
 MOVED FROM DIFFERENT STATE       :10390  
 DID NOT MOVE FROM DIFFERENT STATE:33348  
 DON'T KNOW                       :    0  
 MISSING IN ERROR                 :    0  
 REFUSED                          :    0  
                                          
                                          
                               RACEETHK                       RACE_K     
 HISPANIC                          : 9442   WHITE ONLY           :32109  
 NON-HISPANIC WHITE ONLY           :24552   BLACK ONLY           : 5310  
 NON-HISPANIC BLACK ONLY           : 4412   OTHER + MULTIPLE RACE: 6319  
 NON-HISPANIC OTHER + MULTIPLE RACE: 5332                                
                                                                         
                                                                         
                                                                         
                  RENT_OWN                   SEX                 STATE      
 OWNED OR BEING BOUGHT:32134   MALE            :22667   PUERTO RICO : 2413  
 RENTED               : 9988   FEMALE          :21071   TEXAS       : 2335  
 OTHER ARRANGMENT     : 1160   DON'T KNOW      :    0   PENNSYLVANIA: 2017  
 DON'T KNOW           :   82   MISSING IN ERROR:    0   ILLINOIS    : 1710  
 REFUSED              :  374   REFUSED         :    0   VIRGINIA    : 1694  
                                                        NEW YORK    : 1466  
                                                        (Other)     :32103  
                                            FACILITY          WELLCHILD    
 ALL PUBLIC FACILITIES                          : 1656   YES       : 6567  
 ALL HOSPITAL FACILITIES                        : 1894   NO        :  983  
 ALL PRIVATE FACILITIES                         : 5717   DON'T KNOW:36188  
 ALL STD/SCHOOL/TEEN CLINICS OR OTHER FACILITIES:  962                     
 MIXED                                          : 4309                     
 UNKNOWN                                        : 2639                     
 Missing Data                                   :26561                     
         P_U13HPV            P_U13HPV3             P_UTDHPV    
 NOT UTD     : 5833   NOT UTD     :15987   NOT UTD     : 3605  
 UTD         :10881   UTD         :  727   UTD         :13109  
 Missing Data:27024   Missing Data:27024   Missing Data:27024  
                                                               
                                                               
                                                               
                                                               
       P_UTDHPV_15         P_UTDHPV_15INT         P_UTDHPV2    
 NOT UTD     : 5866   NOT UTD     : 5958   NOT UTD     : 5738  
 UTD         :10848   UTD         :10756   UTD         :10976  
 Missing Data:27024   Missing Data:27024   Missing Data:27024  
                                                               
                                                               
                                                               
                                                               
        P_UTDHPV3    
 NOT UTD     :15658  
 UTD         : 1056  
 Missing Data:27024  
                     
                     
                     
                     
                                                                                    INS_STAT2_I   
 PRIVATE INSURANCE ONLY                                                                   : 9753  
 ANY MEDICAID                                                                             : 5289  
 OTHER INSURANCE (CHIP, IHS, MILITARY, OR OTHER, ALONE OR IN COMB. WITH PRIVATE INSURANCE): 1298  
 UNINSURED                                                                                :  374  
 MISSING Data                                                                             :27024  
                                                                                                  
                                                                                                  
                                                     INS_BREAK_I   
 CURRENTLY INSURED BUT UNINSURED AT SOME POINT SINCE AGE 11:  711  
 CURRENTLY INSURED AND NEVER UNINSURED SINCE AGE 11        :15608  
 CURRENTLY UNINSURED BUT INSURED AT SOME POINT SINCE AGE 11:  257  
 CURRENTLY UNINSURED AND NEVER INSURED SINCE AGE 11        :  115  
 Data Missing                                              :27047  
                                                                   
                                                                   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [43,738 × 25] (S3: tbl_df/tbl/data.frame)
 $ SEQNUMT       : num [1:43738] 30397 2792 27914 37271 4991 ...
 $ YEAR          : num [1:43738] 2022 2022 2022 2022 2022 ...
 $ AGE           : num [1:43738] 17 13 15 14 13 13 16 13 15 16 ...
 $ EDUC1         : Factor w/ 4 levels "LESS THAN 12 YEARS",..: 3 4 1 4 3 2 3 4 3 4 ...
 $ INCPORAR_I    : num [1:43738] 3 3 2.292 3 0.857 ...
 $ INCPOV1       : Factor w/ 4 levels "ABOVE POVERTY &gt; $75K",..: 1 1 2 1 3 1 1 2 1 1 ...
 $ INCQ298A      : Factor w/ 14 levels "$35001 - $40000",..: 5 5 2 5 8 5 5 4 5 5 ...
 $ LANGUAGE      : Factor w/ 3 levels "ENGLISH","SPANISH",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ MOBIL_1       : Factor w/ 5 levels "MOVED FROM DIFFERENT STATE",..: 2 1 2 2 1 2 1 2 2 1 ...
 $ RACEETHK      : Factor w/ 4 levels "HISPANIC","NON-HISPANIC WHITE ONLY",..: 3 4 3 4 2 2 2 3 2 2 ...
 $ RACE_K        : Factor w/ 3 levels "WHITE ONLY","BLACK ONLY",..: 2 3 2 3 1 1 1 2 1 1 ...
 $ RENT_OWN      : Factor w/ 5 levels "OWNED OR BEING BOUGHT",..: 1 1 1 1 3 1 1 1 1 1 ...
 $ SEX           : Factor w/ 5 levels "MALE","FEMALE",..: 2 1 2 2 2 1 1 2 2 1 ...
 $ STATE         : Factor w/ 54 levels "ALABAMA","DELAWARE",..: 2 25 14 25 44 16 15 20 19 4 ...
 $ FACILITY      : Factor w/ 7 levels "ALL PUBLIC FACILITIES",..: 6 7 6 5 7 7 7 5 3 7 ...
 $ WELLCHILD     : Factor w/ 3 levels "YES","NO","DON'T KNOW": 1 3 3 3 3 3 3 1 3 3 ...
 $ P_U13HPV      : Factor w/ 3 levels "NOT UTD","UTD",..: 2 3 1 1 1 3 3 2 1 3 ...
 $ P_U13HPV3     : Factor w/ 3 levels "NOT UTD","UTD",..: 1 3 1 1 1 3 3 1 1 3 ...
 $ P_UTDHPV      : Factor w/ 3 levels "NOT UTD","UTD",..: 2 3 1 2 1 3 3 2 1 3 ...
 $ P_UTDHPV_15   : Factor w/ 3 levels "NOT UTD","UTD",..: 2 3 1 2 1 3 3 2 1 3 ...
 $ P_UTDHPV_15INT: Factor w/ 3 levels "NOT UTD","UTD",..: 2 3 1 2 1 3 3 2 1 3 ...
 $ P_UTDHPV2     : Factor w/ 3 levels "NOT UTD","UTD",..: 2 3 1 2 1 3 3 2 1 3 ...
 $ P_UTDHPV3     : Factor w/ 3 levels "NOT UTD","UTD",..: 1 3 1 1 1 3 3 1 1 3 ...
 $ INS_STAT2_I   : Factor w/ 5 levels "PRIVATE INSURANCE ONLY",..: 2 5 2 1 2 5 5 2 2 5 ...
 $ INS_BREAK_I   : Factor w/ 5 levels "CURRENTLY INSURED BUT UNINSURED AT SOME POINT SINCE AGE 11",..: 2 5 2 2 2 5 5 2 2 5 ...</code></pre>
</div>
</div>
</section>
<section id="save-data" class="level1">
<h1>Save data</h1>
<p>We then save the data frame into a .rds and a csv file named “NIS_Teen_Data_2022.csv” and “processeddata.rds”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>output_file<span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"processed-data"</span>, <span class="st">"NIS_Teen_Data_2022.csv"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(data, <span class="at">file =</span> output_file, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>save_path <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"./data/processed-data/processeddata.rds"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(data, <span class="at">file =</span> save_path )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cleaning-data" class="level1">
<h1>Cleaning Data</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First, I load the data into a usable data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>data_location <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>,<span class="st">"processed-data"</span>,<span class="st">"processeddata.rds"</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>NISTeenVax <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(data_location)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="exploring-the-data" class="level2">
<h2 class="anchored" data-anchor-id="exploring-the-data">Exploring the data</h2>
<p>Next, I will check the structure of the data and I will check for any NA or missing values in the data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(NISTeenVax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [43,738 × 25] (S3: tbl_df/tbl/data.frame)
 $ SEQNUMT       : num [1:43738] 30397 2792 27914 37271 4991 ...
 $ YEAR          : num [1:43738] 2022 2022 2022 2022 2022 ...
 $ AGE           : num [1:43738] 17 13 15 14 13 13 16 13 15 16 ...
 $ EDUC1         : Factor w/ 4 levels "LESS THAN 12 YEARS",..: 3 4 1 4 3 2 3 4 3 4 ...
 $ INCPORAR_I    : num [1:43738] 3 3 2.292 3 0.857 ...
 $ INCPOV1       : Factor w/ 4 levels "ABOVE POVERTY &gt; $75K",..: 1 1 2 1 3 1 1 2 1 1 ...
 $ INCQ298A      : Factor w/ 14 levels "$35001 - $40000",..: 5 5 2 5 8 5 5 4 5 5 ...
 $ LANGUAGE      : Factor w/ 3 levels "ENGLISH","SPANISH",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ MOBIL_1       : Factor w/ 5 levels "MOVED FROM DIFFERENT STATE",..: 2 1 2 2 1 2 1 2 2 1 ...
 $ RACEETHK      : Factor w/ 4 levels "HISPANIC","NON-HISPANIC WHITE ONLY",..: 3 4 3 4 2 2 2 3 2 2 ...
 $ RACE_K        : Factor w/ 3 levels "WHITE ONLY","BLACK ONLY",..: 2 3 2 3 1 1 1 2 1 1 ...
 $ RENT_OWN      : Factor w/ 5 levels "OWNED OR BEING BOUGHT",..: 1 1 1 1 3 1 1 1 1 1 ...
 $ SEX           : Factor w/ 5 levels "MALE","FEMALE",..: 2 1 2 2 2 1 1 2 2 1 ...
 $ STATE         : Factor w/ 54 levels "ALABAMA","DELAWARE",..: 2 25 14 25 44 16 15 20 19 4 ...
 $ FACILITY      : Factor w/ 7 levels "ALL PUBLIC FACILITIES",..: 6 7 6 5 7 7 7 5 3 7 ...
 $ WELLCHILD     : Factor w/ 3 levels "YES","NO","DON'T KNOW": 1 3 3 3 3 3 3 1 3 3 ...
 $ P_U13HPV      : Factor w/ 3 levels "NOT UTD","UTD",..: 2 3 1 1 1 3 3 2 1 3 ...
 $ P_U13HPV3     : Factor w/ 3 levels "NOT UTD","UTD",..: 1 3 1 1 1 3 3 1 1 3 ...
 $ P_UTDHPV      : Factor w/ 3 levels "NOT UTD","UTD",..: 2 3 1 2 1 3 3 2 1 3 ...
 $ P_UTDHPV_15   : Factor w/ 3 levels "NOT UTD","UTD",..: 2 3 1 2 1 3 3 2 1 3 ...
 $ P_UTDHPV_15INT: Factor w/ 3 levels "NOT UTD","UTD",..: 2 3 1 2 1 3 3 2 1 3 ...
 $ P_UTDHPV2     : Factor w/ 3 levels "NOT UTD","UTD",..: 2 3 1 2 1 3 3 2 1 3 ...
 $ P_UTDHPV3     : Factor w/ 3 levels "NOT UTD","UTD",..: 1 3 1 1 1 3 3 1 1 3 ...
 $ INS_STAT2_I   : Factor w/ 5 levels "PRIVATE INSURANCE ONLY",..: 2 5 2 1 2 5 5 2 2 5 ...
 $ INS_BREAK_I   : Factor w/ 5 levels "CURRENTLY INSURED BUT UNINSURED AT SOME POINT SINCE AGE 11",..: 2 5 2 2 2 5 5 2 2 5 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">glimpse</span>(NISTeenVax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 43,738
Columns: 25
$ SEQNUMT        &lt;dbl&gt; 30397, 2792, 27914, 37271, 4991, 40214, 35576, 7893, 41…
$ YEAR           &lt;dbl&gt; 2022, 2022, 2022, 2022, 2022, 2022, 2022, 2022, 2022, 2…
$ AGE            &lt;dbl&gt; 17, 13, 15, 14, 13, 13, 16, 13, 15, 16, 13, 14, 13, 13,…
$ EDUC1          &lt;fct&gt; "MORE THAN 12 YEARS, NON-COLLEGE GRAD", "COLLEGE GRADUA…
$ INCPORAR_I     &lt;dbl&gt; 3.0000000, 3.0000000, 2.2924213, 3.0000000, 0.8566686, …
$ INCPOV1        &lt;fct&gt; ABOVE POVERTY &gt; $75K, ABOVE POVERTY &gt; $75K, ABOVE POVER…
$ INCQ298A       &lt;fct&gt; $75001+, $75001+, $40001 - $50000, $75001+, $10001 - $1…
$ LANGUAGE       &lt;fct&gt; ENGLISH, ENGLISH, ENGLISH, ENGLISH, ENGLISH, ENGLISH, E…
$ MOBIL_1        &lt;fct&gt; DID NOT MOVE FROM DIFFERENT STATE, MOVED FROM DIFFERENT…
$ RACEETHK       &lt;fct&gt; NON-HISPANIC BLACK ONLY, NON-HISPANIC OTHER + MULTIPLE …
$ RACE_K         &lt;fct&gt; BLACK ONLY, OTHER + MULTIPLE RACE, BLACK ONLY, OTHER + …
$ RENT_OWN       &lt;fct&gt; OWNED OR BEING BOUGHT, OWNED OR BEING BOUGHT, OWNED OR …
$ SEX            &lt;fct&gt; FEMALE, MALE, FEMALE, FEMALE, FEMALE, MALE, MALE, FEMAL…
$ STATE          &lt;fct&gt; DELAWARE, NEW HAMPSHIRE, LOUISIANA, NEW HAMPSHIRE, VIRG…
$ FACILITY       &lt;fct&gt; UNKNOWN, Missing Data, UNKNOWN, MIXED, Missing Data, Mi…
$ WELLCHILD      &lt;fct&gt; YES, DON'T KNOW, DON'T KNOW, DON'T KNOW, DON'T KNOW, DO…
$ P_U13HPV       &lt;fct&gt; UTD, Missing Data, NOT UTD, NOT UTD, NOT UTD, Missing D…
$ P_U13HPV3      &lt;fct&gt; NOT UTD, Missing Data, NOT UTD, NOT UTD, NOT UTD, Missi…
$ P_UTDHPV       &lt;fct&gt; UTD, Missing Data, NOT UTD, UTD, NOT UTD, Missing Data,…
$ P_UTDHPV_15    &lt;fct&gt; UTD, Missing Data, NOT UTD, UTD, NOT UTD, Missing Data,…
$ P_UTDHPV_15INT &lt;fct&gt; UTD, Missing Data, NOT UTD, UTD, NOT UTD, Missing Data,…
$ P_UTDHPV2      &lt;fct&gt; UTD, Missing Data, NOT UTD, UTD, NOT UTD, Missing Data,…
$ P_UTDHPV3      &lt;fct&gt; NOT UTD, Missing Data, NOT UTD, NOT UTD, NOT UTD, Missi…
$ INS_STAT2_I    &lt;fct&gt; "ANY MEDICAID", "MISSING Data", "ANY MEDICAID", "PRIVAT…
$ INS_BREAK_I    &lt;fct&gt; CURRENTLY INSURED AND NEVER UNINSURED SINCE AGE 11, Dat…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>NA_columns <span class="ot">&lt;-</span> <span class="fu">colSums</span>(<span class="fu">is.na</span>(NISTeenVax))</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(NA_columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       SEQNUMT           YEAR            AGE          EDUC1     INCPORAR_I 
             0              0              0              0              0 
       INCPOV1       INCQ298A       LANGUAGE        MOBIL_1       RACEETHK 
             0              0              0              0              0 
        RACE_K       RENT_OWN            SEX          STATE       FACILITY 
             0              0              0              0              0 
     WELLCHILD       P_U13HPV      P_U13HPV3       P_UTDHPV    P_UTDHPV_15 
             0              0              0              0              0 
P_UTDHPV_15INT      P_UTDHPV2      P_UTDHPV3    INS_STAT2_I    INS_BREAK_I 
             0              0              0              0              0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#There are no missing values, but there may be missing data that is filled with a character value within the data frame. I will first find the character value assigned to missing variables by exploring the levels of each variable using the sapply() and then lapply() function.</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>factor_cols <span class="ot">&lt;-</span> <span class="fu">sapply</span>(NISTeenVax, is.factor) <span class="co">#Find the columns that are factor variables</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>factor_levels <span class="ot">&lt;-</span> <span class="fu">lapply</span>(NISTeenVax[, factor_cols, <span class="at">drop =</span> <span class="cn">FALSE</span>], levels) <span class="co">#Find the levels of each factor variable</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(factor_levels)<span class="co">#Print factor levels for only the factor columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$EDUC1
[1] "LESS THAN 12 YEARS"                  
[2] "12 YEARS"                            
[3] "MORE THAN 12 YEARS, NON-COLLEGE GRAD"
[4] "COLLEGE GRADUATE"                    

$INCPOV1
[1] "ABOVE POVERTY &gt; $75K"  "ABOVE POVERTY &lt;= $75K" "BELOW POVERTY"        
[4] "UNKNOWN"              

$INCQ298A
 [1] "$35001 - $40000" "$40001 - $50000" "$50001 - $60000" "$60001 - $75000"
 [5] "$75001+"         "$0 - $7500"      "$7501 - $10000"  "$10001 - $17500"
 [9] "$17501 - $20000" "$20001 - $25000" "DON'T KNOW"      "$25001 - $30000"
[13] "$30001 - $35000" "REFUSED"        

$LANGUAGE
[1] "ENGLISH" "SPANISH" "OTHER"  

$MOBIL_1
[1] "MOVED FROM DIFFERENT STATE"        "DID NOT MOVE FROM DIFFERENT STATE"
[3] "DON'T KNOW"                        "MISSING IN ERROR"                 
[5] "REFUSED"                          

$RACEETHK
[1] "HISPANIC"                           "NON-HISPANIC WHITE ONLY"           
[3] "NON-HISPANIC BLACK ONLY"            "NON-HISPANIC OTHER + MULTIPLE RACE"

$RACE_K
[1] "WHITE ONLY"            "BLACK ONLY"            "OTHER + MULTIPLE RACE"

$RENT_OWN
[1] "OWNED OR BEING BOUGHT" "RENTED"                "OTHER ARRANGMENT"     
[4] "DON'T KNOW"            "REFUSED"              

$SEX
[1] "MALE"             "FEMALE"           "DON'T KNOW"       "MISSING IN ERROR"
[5] "REFUSED"         

$STATE
 [1] "ALABAMA"              "DELAWARE"             "DISTRICT OF COLUMBIA"
 [4] "FLORIDA"              "GEORGIA"              "HAWAII"              
 [7] "IDAHO"                "ILLINOIS"             "INDIANA"             
[10] "IOWA"                 "ALASKA"               "KANSAS"              
[13] "KENTUCKY"             "LOUISIANA"            "MAINE"               
[16] "MARYLAND"             "MASSACHUSETTS"        "MICHIGAN"            
[19] "MINNESOTA"            "MISSISSIPPI"          "MISSOURI"            
[22] "MONTANA"              "NEBRASKA"             "NEVADA"              
[25] "NEW HAMPSHIRE"        "NEW JERSEY"           "NEW MEXICO"          
[28] "NEW YORK"             "NORTH CAROLINA"       "NORTH DAKOTA"        
[31] "OHIO"                 "ARIZONA"              "OKLAHOMA"            
[34] "OREGON"               "PENNSYLVANIA"         "RHODE ISLAND"        
[37] "SOUTH CAROLINA"       "SOUTH DAKOTA"         "TENNESSEE"           
[40] "TEXAS"                "UTAH"                 "ARKANSAS"            
[43] "VERMONT"              "VIRGINIA"             "WASHINGTON"          
[46] "WEST VIRGINIA"        "WISCONSIN"            "WYOMING"             
[49] "CALIFORNIA"           "GUAM"                 "PUERTO RICO"         
[52] "U.S. VIRGIN ISLANDS"  "COLORADO"             "CONNECTICUT"         

$FACILITY
[1] "ALL PUBLIC FACILITIES"                          
[2] "ALL HOSPITAL FACILITIES"                        
[3] "ALL PRIVATE FACILITIES"                         
[4] "ALL STD/SCHOOL/TEEN CLINICS OR OTHER FACILITIES"
[5] "MIXED"                                          
[6] "UNKNOWN"                                        
[7] "Missing Data"                                   

$WELLCHILD
[1] "YES"        "NO"         "DON'T KNOW"

$P_U13HPV
[1] "NOT UTD"      "UTD"          "Missing Data"

$P_U13HPV3
[1] "NOT UTD"      "UTD"          "Missing Data"

$P_UTDHPV
[1] "NOT UTD"      "UTD"          "Missing Data"

$P_UTDHPV_15
[1] "NOT UTD"      "UTD"          "Missing Data"

$P_UTDHPV_15INT
[1] "NOT UTD"      "UTD"          "Missing Data"

$P_UTDHPV2
[1] "NOT UTD"      "UTD"          "Missing Data"

$P_UTDHPV3
[1] "NOT UTD"      "UTD"          "Missing Data"

$INS_STAT2_I
[1] "PRIVATE INSURANCE ONLY"                                                                   
[2] "ANY MEDICAID"                                                                             
[3] "OTHER INSURANCE (CHIP, IHS, MILITARY, OR OTHER, ALONE OR IN COMB. WITH PRIVATE INSURANCE)"
[4] "UNINSURED"                                                                                
[5] "MISSING Data"                                                                             

$INS_BREAK_I
[1] "CURRENTLY INSURED BUT UNINSURED AT SOME POINT SINCE AGE 11"
[2] "CURRENTLY INSURED AND NEVER UNINSURED SINCE AGE 11"        
[3] "CURRENTLY UNINSURED BUT INSURED AT SOME POINT SINCE AGE 11"
[4] "CURRENTLY UNINSURED AND NEVER INSURED SINCE AGE 11"        
[5] "Data Missing"                                              </code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Several columns contain factor levels that are labelled, "Data missing", "Missing data", "Unknown", "Refused", Missing in error", and "Don't know". I will replace these values for each variable with an NA in R so that they will be counted as missing values for analysis.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="eliminating-na-values-and-columns" class="level2">
<h2 class="anchored" data-anchor-id="eliminating-na-values-and-columns">Eliminating NA Values and Columns</h2>
<p>Several columns contain factor levels that are labelled, “Data missing”, “Missing data”, “Unknown”, “Refused”, Missing in error”, and “Don’t know”. I will replace these values for each variable with an NA in R so that they will be counted as missing values for analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>missing_values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Data Missing"</span>, <span class="st">"MISSING Data"</span>, <span class="st">"Missing Data"</span>, <span class="st">"MISSING IN ERROR"</span>) <span class="co">#Group all of the factor levels that indicate a missing value</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co">#After back and forth with ChatGPT3.5, it suggested to use the dplyr mutate function and replace function to specify that factor variables with the levels in the group above will have those level values replaced with NA</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>NISTeenVax2 <span class="ot">&lt;-</span> NISTeenVax <span class="sc">%&gt;%</span> <span class="co">#Create new dataframe</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.factor), <span class="sc">~</span> <span class="fu">replace</span>(., . <span class="sc">%in%</span> missing_values, <span class="cn">NA</span>))) <span class="co">#mutate only at factor variables in the dataframe and replace the levels specified above with NA for those factors</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Now I will be able to check for NA values using the skim() function. I can also display the NA values graphically using gg_miss_var()</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(NISTeenVax2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">NISTeenVax2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">43738</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">25</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">21</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 14%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 44%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">EDUC1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">COL: 22958, MOR: 11041, 12 : 7123, LES: 2616</td>
</tr>
<tr class="even">
<td style="text-align: left;">INCPOV1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">ABO: 23601, ABO: 11870, BEL: 5506, UNK: 2761</td>
</tr>
<tr class="odd">
<td style="text-align: left;">INCQ298A</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">$75: 23601, $60: 3169, REF: 2532, $40: 2370</td>
</tr>
<tr class="even">
<td style="text-align: left;">LANGUAGE</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">ENG: 39720, SPA: 3725, OTH: 293</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MOBIL_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">DID: 33348, MOV: 10390, DON: 0, MIS: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">RACEETHK</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">NON: 24552, HIS: 9442, NON: 5332, NON: 4412</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RACE_K</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">WHI: 32109, OTH: 6319, BLA: 5310</td>
</tr>
<tr class="even">
<td style="text-align: left;">RENT_OWN</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">OWN: 32134, REN: 9988, OTH: 1160, REF: 374</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SEX</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">MAL: 22667, FEM: 21071, DON: 0, MIS: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">STATE</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">52</td>
<td style="text-align: left;">PUE: 2413, TEX: 2335, PEN: 2017, ILL: 1710</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FACILITY</td>
<td style="text-align: right;">26561</td>
<td style="text-align: right;">0.39</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">ALL: 5717, MIX: 4309, UNK: 2639, ALL: 1894</td>
</tr>
<tr class="even">
<td style="text-align: left;">WELLCHILD</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">DON: 36188, YES: 6567, NO: 983</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P_U13HPV</td>
<td style="text-align: right;">27024</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 10881, NOT: 5833, Mis: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">P_U13HPV3</td>
<td style="text-align: right;">27024</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">NOT: 15987, UTD: 727, Mis: 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P_UTDHPV</td>
<td style="text-align: right;">27024</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 13109, NOT: 3605, Mis: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">P_UTDHPV_15</td>
<td style="text-align: right;">27024</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 10848, NOT: 5866, Mis: 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P_UTDHPV_15INT</td>
<td style="text-align: right;">27024</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 10756, NOT: 5958, Mis: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">P_UTDHPV2</td>
<td style="text-align: right;">27024</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 10976, NOT: 5738, Mis: 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P_UTDHPV3</td>
<td style="text-align: right;">27024</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">NOT: 15658, UTD: 1056, Mis: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">INS_STAT2_I</td>
<td style="text-align: right;">27024</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">PRI: 9753, ANY: 5289, OTH: 1298, UNI: 374</td>
</tr>
<tr class="odd">
<td style="text-align: left;">INS_BREAK_I</td>
<td style="text-align: right;">27047</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">CUR: 15608, CUR: 711, CUR: 257, CUR: 115</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 13%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 6%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">SEQNUMT</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21869.50</td>
<td style="text-align: right;">12626.22</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">10935.25</td>
<td style="text-align: right;">21869.5</td>
<td style="text-align: right;">32803.75</td>
<td style="text-align: right;">43738</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">YEAR</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2022.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2022.0</td>
<td style="text-align: right;">2022.00</td>
<td style="text-align: right;">2022.0</td>
<td style="text-align: right;">2022.00</td>
<td style="text-align: right;">2022</td>
<td style="text-align: left;">▁▁▇▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AGE</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">15.03</td>
<td style="text-align: right;">1.40</td>
<td style="text-align: right;">13.0</td>
<td style="text-align: right;">14.00</td>
<td style="text-align: right;">15.0</td>
<td style="text-align: right;">16.00</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">INCPORAR_I</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.36</td>
<td style="text-align: right;">0.88</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">1.66</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">3.00</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">▂▁▁▁▇</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_var</span>(NISTeenVax2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Processing-Quarto-Output_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#The most important factors for this analysis is the response variables called variations of "P_UTDHPV".</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co">#We have 27,024 missing values for each of these columns. These missing values may have come from the same survey type, however analysis cannot be performed when this crucial data is missing. For this reason, I will find the rows where these missing values take place, ensure that they are all the same rows for the multiple variables, and delete these rows specifically.</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co">#I used chatGPT3,5 to find the function to select for certain rows using dplyr and then filter these for NA values</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="do">##I prompted it by using the variable names a,b,c and asked for it to select these columns and filter for the rows with missing variables</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>rows_with_missing_in_all <span class="ot">&lt;-</span> NISTeenVax2 <span class="sc">%&gt;%</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"P_U13HPV"</span>, <span class="st">"P_U13HPV3"</span>, <span class="st">"P_UTDHPV"</span>, <span class="st">"P_UTDHPV_15"</span>, <span class="st">"P_UTDHPV_15INT"</span>, <span class="st">"P_UTDHPV2"</span>, <span class="st">"P_UTDHPV3"</span>) <span class="sc">%&gt;%</span> <span class="co">#select for columns in question</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter_all</span>(<span class="fu">any_vars</span>(<span class="fu">is.na</span>(.))) <span class="co">#Find rows with NA values</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="do">##I then prompted ChatGPT3.5 to provide me with code to display the location of these rows so that I may check if they all matched.</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">nrow</span>(rows_with_missing_in_all) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"Rows with missing values in aforementioned variables"</span>)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(rows_with_missing_in_all)</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"No rows with missing values in aforementioned variables"</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Rows with missing values in aforementioned variables"
# A tibble: 27,024 × 7
   P_U13HPV P_U13HPV3 P_UTDHPV P_UTDHPV_15 P_UTDHPV_15INT P_UTDHPV2 P_UTDHPV3
   &lt;fct&gt;    &lt;fct&gt;     &lt;fct&gt;    &lt;fct&gt;       &lt;fct&gt;          &lt;fct&gt;     &lt;fct&gt;    
 1 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;     &lt;NA&gt;        &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;     
 2 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;     &lt;NA&gt;        &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;     
 3 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;     &lt;NA&gt;        &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;     
 4 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;     &lt;NA&gt;        &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;     
 5 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;     &lt;NA&gt;        &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;     
 6 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;     &lt;NA&gt;        &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;     
 7 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;     &lt;NA&gt;        &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;     
 8 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;     &lt;NA&gt;        &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;     
 9 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;     &lt;NA&gt;        &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;     
10 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;     &lt;NA&gt;        &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;     
# ℹ 27,014 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#It seems that all of the missing rows match for all of these variables. This means that we may delete the rows that contain missing values for all of the specified variables.</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Because the variables listed all contain missing values in the same rows, I will select only one variable to filter.</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>NISTeenVax3 <span class="ot">&lt;-</span> NISTeenVax2 <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(P_UTDHPV)) <span class="co">#drop the rows with NA values in P_UTDHPV</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>NISTeenVax3 <span class="ot">&lt;-</span> NISTeenVax3 <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(INS_BREAK_I))</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>NISTeenVax3 <span class="ot">&lt;-</span> NISTeenVax3 <span class="sc">%&gt;%</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(FACILITY))</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(NISTeenVax3) <span class="co">#check again for missing values in these variables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">NISTeenVax3</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">16564</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">25</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">21</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 10%">
<col style="width: 14%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 43%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">EDUC1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">COL: 9024, MOR: 4142, 12 : 2451, LES: 947</td>
</tr>
<tr class="even">
<td style="text-align: left;">INCPOV1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">ABO: 9345, ABO: 4586, BEL: 2184, UNK: 449</td>
</tr>
<tr class="odd">
<td style="text-align: left;">INCQ298A</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">$75: 9345, $60: 1273, $40: 934, $50: 908</td>
</tr>
<tr class="even">
<td style="text-align: left;">LANGUAGE</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">ENG: 15290, SPA: 1167, OTH: 107</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MOBIL_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">DID: 12849, MOV: 3715, DON: 0, MIS: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">RACEETHK</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">NON: 9738, HIS: 3303, NON: 2007, NON: 1516</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RACE_K</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">WHI: 12378, OTH: 2379, BLA: 1807</td>
</tr>
<tr class="even">
<td style="text-align: left;">RENT_OWN</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">OWN: 12432, REN: 3688, OTH: 410, REF: 22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SEX</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">MAL: 8686, FEM: 7878, DON: 0, MIS: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">STATE</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">52</td>
<td style="text-align: left;">TEX: 784, PEN: 750, PUE: 668, ILL: 623</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FACILITY</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">ALL: 5700, MIX: 4271, UNK: 2528, ALL: 1874</td>
</tr>
<tr class="even">
<td style="text-align: left;">WELLCHILD</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">DON: 9113, YES: 6553, NO: 898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P_U13HPV</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 10874, NOT: 5690, Mis: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">P_U13HPV3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">NOT: 15838, UTD: 726, Mis: 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P_UTDHPV</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 13099, NOT: 3465, Mis: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">P_UTDHPV_15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 10838, NOT: 5726, Mis: 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P_UTDHPV_15INT</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 10747, NOT: 5817, Mis: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">P_UTDHPV2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 10966, NOT: 5598, Mis: 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P_UTDHPV3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">NOT: 15510, UTD: 1054, Mis: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">INS_STAT2_I</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">PRI: 9702, ANY: 5230, OTH: 1273, UNI: 359</td>
</tr>
<tr class="odd">
<td style="text-align: left;">INS_BREAK_I</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">CUR: 15500, CUR: 705, CUR: 254, CUR: 105</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 13%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 6%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">SEQNUMT</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21670.39</td>
<td style="text-align: right;">12635.13</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">10651.75</td>
<td style="text-align: right;">21613.5</td>
<td style="text-align: right;">32628.25</td>
<td style="text-align: right;">43737</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">YEAR</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2022.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2022.0</td>
<td style="text-align: right;">2022.00</td>
<td style="text-align: right;">2022.0</td>
<td style="text-align: right;">2022.00</td>
<td style="text-align: right;">2022</td>
<td style="text-align: left;">▁▁▇▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AGE</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">14.97</td>
<td style="text-align: right;">1.40</td>
<td style="text-align: right;">13.0</td>
<td style="text-align: right;">14.00</td>
<td style="text-align: right;">15.0</td>
<td style="text-align: right;">16.00</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">INCPORAR_I</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.35</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">1.62</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">3.00</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">▂▁▁▁▇</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_var</span>(NISTeenVax3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Processing-Quarto-Output_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(NISTeenVax3) <span class="co">#check again for missing values in these variables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">NISTeenVax3</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">16564</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">25</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">21</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 10%">
<col style="width: 14%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 43%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">EDUC1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">COL: 9024, MOR: 4142, 12 : 2451, LES: 947</td>
</tr>
<tr class="even">
<td style="text-align: left;">INCPOV1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">ABO: 9345, ABO: 4586, BEL: 2184, UNK: 449</td>
</tr>
<tr class="odd">
<td style="text-align: left;">INCQ298A</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">$75: 9345, $60: 1273, $40: 934, $50: 908</td>
</tr>
<tr class="even">
<td style="text-align: left;">LANGUAGE</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">ENG: 15290, SPA: 1167, OTH: 107</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MOBIL_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">DID: 12849, MOV: 3715, DON: 0, MIS: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">RACEETHK</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">NON: 9738, HIS: 3303, NON: 2007, NON: 1516</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RACE_K</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">WHI: 12378, OTH: 2379, BLA: 1807</td>
</tr>
<tr class="even">
<td style="text-align: left;">RENT_OWN</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">OWN: 12432, REN: 3688, OTH: 410, REF: 22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SEX</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">MAL: 8686, FEM: 7878, DON: 0, MIS: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">STATE</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">52</td>
<td style="text-align: left;">TEX: 784, PEN: 750, PUE: 668, ILL: 623</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FACILITY</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">ALL: 5700, MIX: 4271, UNK: 2528, ALL: 1874</td>
</tr>
<tr class="even">
<td style="text-align: left;">WELLCHILD</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">DON: 9113, YES: 6553, NO: 898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P_U13HPV</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 10874, NOT: 5690, Mis: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">P_U13HPV3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">NOT: 15838, UTD: 726, Mis: 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P_UTDHPV</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 13099, NOT: 3465, Mis: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">P_UTDHPV_15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 10838, NOT: 5726, Mis: 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P_UTDHPV_15INT</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 10747, NOT: 5817, Mis: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">P_UTDHPV2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">UTD: 10966, NOT: 5598, Mis: 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P_UTDHPV3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">NOT: 15510, UTD: 1054, Mis: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">INS_STAT2_I</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">PRI: 9702, ANY: 5230, OTH: 1273, UNI: 359</td>
</tr>
<tr class="odd">
<td style="text-align: left;">INS_BREAK_I</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">CUR: 15500, CUR: 705, CUR: 254, CUR: 105</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 13%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 6%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">SEQNUMT</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21670.39</td>
<td style="text-align: right;">12635.13</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">10651.75</td>
<td style="text-align: right;">21613.5</td>
<td style="text-align: right;">32628.25</td>
<td style="text-align: right;">43737</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">YEAR</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2022.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2022.0</td>
<td style="text-align: right;">2022.00</td>
<td style="text-align: right;">2022.0</td>
<td style="text-align: right;">2022.00</td>
<td style="text-align: right;">2022</td>
<td style="text-align: left;">▁▁▇▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AGE</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">14.97</td>
<td style="text-align: right;">1.40</td>
<td style="text-align: right;">13.0</td>
<td style="text-align: right;">14.00</td>
<td style="text-align: right;">15.0</td>
<td style="text-align: right;">16.00</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">INCPORAR_I</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.35</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">1.62</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">3.00</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">▂▁▁▁▇</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_var</span>(NISTeenVax3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Processing-Quarto-Output_files/figure-html/unnamed-chunk-8-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#The majority of data is missing from the WELLCHILD column, which indicates whether the teen had receieved a Well Child visit in recent years. Because this is not crucial to out analysis, I will delete this column. </span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">#The year column in unnecessary, since all values are from the year 2022. So, I will also delete the YEAR column.</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>NISTeenVax4 <span class="ot">&lt;-</span> NISTeenVax3 <span class="sc">%&gt;%</span> <span class="co">#create a new data frame for the filtered data</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">select</span>(<span class="sc">-</span>WELLCHILD, <span class="sc">-</span>YEAR) <span class="co">#Use the select() filter to delete multiple columns from the data frame</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(NISTeenVax4) <span class="co">#Check the remaining variables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [16,564 × 23] (S3: tbl_df/tbl/data.frame)
 $ SEQNUMT       : num [1:16564] 30397 27914 37271 7893 41213 ...
 $ AGE           : num [1:16564] 17 15 14 13 15 13 14 14 17 15 ...
 $ EDUC1         : Factor w/ 4 levels "LESS THAN 12 YEARS",..: 3 1 4 4 3 4 4 4 4 3 ...
 $ INCPORAR_I    : num [1:16564] 3 2.29 3 3 3 ...
 $ INCPOV1       : Factor w/ 4 levels "ABOVE POVERTY &gt; $75K",..: 1 2 1 2 1 1 1 2 1 1 ...
 $ INCQ298A      : Factor w/ 14 levels "$35001 - $40000",..: 5 2 5 4 5 5 5 4 5 5 ...
 $ LANGUAGE      : Factor w/ 3 levels "ENGLISH","SPANISH",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ MOBIL_1       : Factor w/ 5 levels "MOVED FROM DIFFERENT STATE",..: 2 2 2 2 2 1 1 2 2 2 ...
 $ RACEETHK      : Factor w/ 4 levels "HISPANIC","NON-HISPANIC WHITE ONLY",..: 3 3 4 3 2 2 3 2 4 4 ...
 $ RACE_K        : Factor w/ 3 levels "WHITE ONLY","BLACK ONLY",..: 2 2 3 2 1 1 2 1 3 3 ...
 $ RENT_OWN      : Factor w/ 5 levels "OWNED OR BEING BOUGHT",..: 1 1 1 1 1 1 2 2 1 2 ...
 $ SEX           : Factor w/ 5 levels "MALE","FEMALE",..: 2 2 2 2 2 1 1 2 2 1 ...
 $ STATE         : Factor w/ 54 levels "ALABAMA","DELAWARE",..: 2 14 25 20 19 27 2 16 31 21 ...
 $ FACILITY      : Factor w/ 7 levels "ALL PUBLIC FACILITIES",..: 6 6 5 5 3 3 2 5 3 6 ...
 $ P_U13HPV      : Factor w/ 3 levels "NOT UTD","UTD",..: 2 1 1 2 1 2 2 2 2 1 ...
 $ P_U13HPV3     : Factor w/ 3 levels "NOT UTD","UTD",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ P_UTDHPV      : Factor w/ 3 levels "NOT UTD","UTD",..: 2 1 2 2 1 2 2 2 2 1 ...
 $ P_UTDHPV_15   : Factor w/ 3 levels "NOT UTD","UTD",..: 2 1 2 2 1 1 2 2 2 1 ...
 $ P_UTDHPV_15INT: Factor w/ 3 levels "NOT UTD","UTD",..: 2 1 2 2 1 1 2 2 2 1 ...
 $ P_UTDHPV2     : Factor w/ 3 levels "NOT UTD","UTD",..: 2 1 2 2 1 1 2 2 2 1 ...
 $ P_UTDHPV3     : Factor w/ 3 levels "NOT UTD","UTD",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ INS_STAT2_I   : Factor w/ 5 levels "PRIVATE INSURANCE ONLY",..: 2 2 1 2 2 1 4 1 1 2 ...
 $ INS_BREAK_I   : Factor w/ 5 levels "CURRENTLY INSURED BUT UNINSURED AT SOME POINT SINCE AGE 11",..: 2 2 2 2 2 2 3 2 2 2 ...</code></pre>
</div>
</div>
</section>
<section id="saving-the-data-frame" class="level2">
<h2 class="anchored" data-anchor-id="saving-the-data-frame">Saving the Data Frame</h2>
<p>Save cleaned data as an RDS file.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>output_file2<span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"processed-data"</span>, <span class="st">"NIS_Teen_Data_2022_clean1.csv"</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(NISTeenVax4, <span class="at">file =</span> output_file2, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>saved_pathway <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"./data/processed-data/cleandata1.rds"</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(NISTeenVax4, <span class="at">file =</span> saved_pathway )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>